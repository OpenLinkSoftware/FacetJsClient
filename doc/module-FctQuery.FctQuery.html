<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: FctQuery</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: FctQuery</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-FctQuery.html">FctQuery</a>.</span>FctQuery<span class="signature">(sourceXml<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h2>
        
            <div class="class-description">Represents a Facet query.</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="FctQuery"><span class="type-signature"></span>new FctQuery<span class="signature">(sourceXml<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>sourceXml</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".DESCRIBE_DFLT_SVC_ENDPOINT"><span class="type-signature">(static) </span>DESCRIBE_DFLT_SVC_ENDPOINT<span class="type-signature"></span></h4>




<div class="description">
    Class constant
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".FCT_QRY_DFLT_SVC_ENDPOINT"><span class="type-signature">(static) </span>FCT_QRY_DFLT_SVC_ENDPOINT<span class="type-signature"></span></h4>




<div class="description">
    Class constant
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".FCT_QRY_DFLT_VIEW_LIMIT"><span class="type-signature">(static) </span>FCT_QRY_DFLT_VIEW_LIMIT<span class="type-signature"></span></h4>




<div class="description">
    Class constant
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id=".FCT_QRY_DFLT_VIEW_TYPE"><span class="type-signature">(static) </span>FCT_QRY_DFLT_VIEW_TYPE<span class="type-signature"></span></h4>




<div class="description">
    Class constant
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="queryText"><span class="type-signature"></span>queryText<span class="type-signature"> :string</span></h4>




<div class="description">
    The text to query on.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">string</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="queryTextProperty"><span class="type-signature"></span>queryTextProperty<span class="type-signature"></span></h4>










<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
            
<h4 class="name" id="queryTextProperty"><span class="type-signature"></span>queryTextProperty<span class="type-signature"></span></h4>










<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="addProperty"><span class="type-signature"></span>addProperty<span class="signature">(propertyUri, subjectIndex, exclude, sameAs, inferenceContext)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Adds a <code>&lt;property&gt;</code> element to the Facet input XML.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>propertyUri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The URI of the property.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>subjectIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The index of the implicit subject that the property will belong to.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>exclude</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">If true, sets attribute exclude="yes". If false, omits the attribute.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sameAs</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">If true, sets attribute same_as="yes". If false, omits the attribute.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>inferenceContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">The name of the inference context to use. 
    If present, sets attribute <code>inference="{inferenceContext}"</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The subject index of the scope enclosed by the new <code>&lt;property&gt;</code> element
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="addPropertyOf"><span class="type-signature"></span>addPropertyOf<span class="signature">(propertyUri, subjectIndex, exclude, sameAs, inferenceContext)</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Adds a <code>&lt;property-of&gt;</code> element to the Facet input XML.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>propertyUri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The URI of the property.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>subjectIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The index of the implicit subject that the property will belong to.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>exclude</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">If true, sets attribute exclude="yes". If false, omits the attribute.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>sameAs</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">If true, sets attribute same_as="yes". If false, omits the attribute.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>inferenceContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">The name of the inference context to use. 
    If present, sets attribute inference="{inferenceContext}".</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The subject index of the scope enclosed by the new <code>&lt;property-of&gt;</code> element
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="execute"><span class="type-signature"></span>execute<span class="signature">()</span><span class="type-signature"> &rarr; {Promise}</span></h4>
    

    



<div class="description">
    Executes the Facet query described by the FctQuery instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="FctError.html">FctError</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A FctResult instance containing the query result or a FctError.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getInferenceContext"><span class="type-signature"></span>getInferenceContext<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getQueryElement"><span class="type-signature"></span>getQueryElement<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getQueryGraph"><span class="type-signature"></span>getQueryGraph<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getQueryTimeout"><span class="type-signature"></span>getQueryTimeout<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getSameAs"><span class="type-signature"></span>getSameAs<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getServiceEndpoint"><span class="type-signature"></span>getServiceEndpoint<span class="signature">()</span><span class="type-signature"> &rarr; {url}</span></h4>
    

    



<div class="description">
    Returns the Facet service endpoint being used for Facet queries by this FctQuery instance.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A Facet service endpoint URL
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">url</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSubjectClass"><span class="type-signature"></span>getSubjectClass<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns a description of any class filter attached to the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getSubjectConditionElements"><span class="type-signature"></span>getSubjectConditionElements<span class="signature">(index)</span><span class="type-signature"> &rarr; {jQueryObject}</span></h4>
    

    



<div class="description">
    Gets any conditions set on the current subject node.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Index (1 based) of subject node for which any attached conditions are to be returned.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">jQueryObject</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSubjectCount"><span class="type-signature"></span>getSubjectCount<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    
    <p class="summary">The number of subject nodes in the query XML.</p>
    



<div class="description">
    An implicit subject node is introduced by an appropriate enclosing element 
(<code>query</code>, <code>property</code>, <code>property-of</code>). 
<code>property</code> and <code>property-of</code> need not have a
child element in order to be counted as introducing a new subject node.
The child element could be added at a later time before query submission.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSubjectElement"><span class="type-signature"></span>getSubjectElement<span class="signature">()</span><span class="type-signature"> &rarr; {jQueryObject}</span></h4>
    

    



<div class="description">
    Returns the query, property or property-of element which has the current focus.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">jQueryObject</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSubjectParentElement"><span class="type-signature"></span>getSubjectParentElement<span class="signature">(subjectIndex)</span><span class="type-signature"> &rarr; {jQueryObject}</span></h4>
    

    
    <p class="summary">Get the parent element of a subject node.</p>
    



<div class="description">
    Returns the element which provides the context for a given subject node.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subjectIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The index of the subject node.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A jQuery object containing the parent element.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">jQueryObject</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSubjectProperties"><span class="type-signature"></span>getSubjectProperties<span class="signature">(subjectIndex)</span><span class="type-signature"> &rarr; {jQueryObject}</span></h4>
    

    



<div class="description">
    Returns any <code>&lt;property&gt;</code> elements which are the immediate children of 
a subject node.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>subjectIndex</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The index of the subject node.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    A jQuery object containing the child <code>&lt;property&gt;</code> elements.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">jQueryObject</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getSubjectProperty"><span class="type-signature"></span>getSubjectProperty<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns a description of any property filter attached to the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getSubjectPropertyOf"><span class="type-signature"></span>getSubjectPropertyOf<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Returns a description of any property-of filter attached to the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="getValueAsTurtle"><span class="type-signature"></span>getValueAsTurtle<span class="signature">($valueElement)</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    
    <p class="summary">Returns the text of a Facet &lt;value&gt; element.</p>
    



<div class="description">
    <p>The returned string may be an RDF literal or an IRI.
A literal may have an accompanying datatype (e.g. <code>^^&lt;int&gt;</code>) 
or a language tag (e.g. <ccode>@fr</code>), depending on the <value> 
element's @datatype or @lang attribute value.</p>

<p>IRIs are returned wrapped by angle brackets.
An IRI value is indicated by the presence of a "^^&lt;uri&gt;" type specifier attached to the
&lt;value&gt; element's contents, or by a @datatype attribute value of "uri", "url" or "iri".</p>

<p>The text of the &lt;value&gt; element is specified either as the content of the element, or
in a @val attribute with an empty element.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>$valueElement</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            

            

            <td class="description last">A JQuery object identifying the <value> element.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getViewLimit"><span class="type-signature"></span>getViewLimit<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Returns the current limit on the number of rows returned by a query.
A limit of 0 indicates no limit.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>setViewLimit</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getViewOffset"><span class="type-signature"></span>getViewOffset<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    



<div class="description">
    Get the current view offset.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>setViewOffset</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getViewSubjectIndex"><span class="type-signature"></span>getViewSubjectIndex<span class="signature">()</span><span class="type-signature"> &rarr; {number}</span></h4>
    

    
    <p class="summary">Returns the index of the implicit subject node query variable which
has the current focus in the Facet UI.</p>
    



<div class="description">
    An index n is returned where n is the effective subject node sn of the current view.<br>
e.g. n = 1, 2 ... n identifies subject nodes s1, s2 ... sn

<p>A &lt;query&gt;, &lt;property&gt; or &lt;property-of&gt; element equates to a subject-arc
pair:<br>
<code>sn --(query)-->, sn --(property)--> or sn --(property-of)--></code><br>
in the 'metagraph' described by the Facet input XML.</p>

<p>The single &lt;view&gt; element allowed in the input XML can be a child of
&lt;query&gt;, &lt;property&gt; or &lt;property-of&gt;. The position of the &lt;view&gt; element
implicitly identifies the sn should have the current focus in the Facet UI
when adding or removing filters. The sn appear in the SPARQL corresponding
to the input XML as subject node variables, ?s1, ?s2 etc.</p>

<p>The position of the &lt;view&gt; element also specifies which sn is presented in 
the result set by adjusting the select list of the query described by the XML. 
The result set can serve as a pick list for setting filters on sn to further 
refine the search for the set of entities identified by s1.</p>

<p>Each &lt;query&gt;, &lt;property&gt; or &lt;property-of&gt; element implicitly introduces
a new sn. We can identifiy the sn (or rather n) which the &lt;view&gt; element 
identifies as having the current focus by counting the occurrences of 
these elements until we reach one of them which has &lt;view&gt; as a child.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">number</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getViewType"><span class="type-signature"></span>getViewType<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="queryDescription_describeChildNodes"><span class="type-signature"></span>queryDescription_describeChildNodes<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="queryDescription_describeNode"><span class="type-signature"></span>queryDescription_describeNode<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Returns a SPARQL-like description of a particular node in the Facet XML.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="queryFilterDescriptors"><span class="type-signature"></span>queryFilterDescriptors<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;object>}</span></h4>
    

    
    <p class="summary">Generates a description of the current Facet query filter conditions.</p>
    



<div class="description">
    <p>Each element of the returned array contains a filter condition descriptor.
The filter conditions are deliberately held in separate array elements so 
that the UI can associate controls with each filter, to allow a user to 
manipulate each individually, e.g. a button to drop a particular filter.</p>

<p>FctQuery is intended to be UI independent.
<code>queryFilterDescriptors</code> returns descriptors in the form of
SPARQL-like<br> <code>subject + predicate + object</code> property sets.
These <code>s-p-o</code> properties may contain placeholders in order to keep
FctQuery independent of the UI and so that values for these placeholders
can be injected later by the UI layer.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Array of objects describing the query filters
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array.&lt;object></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="removeInferenceContext"><span class="type-signature"></span>removeInferenceContext<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeQueryFilter"><span class="type-signature"></span>removeQueryFilter<span class="signature">(filterId)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes a filter from the Facet XML.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filterId</code></td>
            

            <td class="type">
            
                
<span class="param-type">integer</span>


            
            </td>

            

            

            <td class="description last">A 0-based ID identifying the filter.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeQueryGraph"><span class="type-signature"></span>removeQueryGraph<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeQueryText"><span class="type-signature"></span>removeQueryText<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeQueryTextProperty"><span class="type-signature"></span>removeQueryTextProperty<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeQueryTimeout"><span class="type-signature"></span>removeQueryTimeout<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeSameAs"><span class="type-signature"></span>removeSameAs<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeSubjectClass"><span class="type-signature"></span>removeSubjectClass<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes any class filter attached to the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeSubjectConditions"><span class="type-signature"></span>removeSubjectConditions<span class="signature">(index)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes all conditions on the current subject node.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Index (1 based) of subject node for which any attached conditions are to be removed.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeSubjectProperty"><span class="type-signature"></span>removeSubjectProperty<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes any property filter attached to the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="removeSubjectPropertyOf"><span class="type-signature"></span>removeSubjectPropertyOf<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Removes any property-of filter attached to the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setInferenceContext"><span class="type-signature"></span>setInferenceContext<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setQueryGraph"><span class="type-signature"></span>setQueryGraph<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setQueryTimeout"><span class="type-signature"></span>setQueryTimeout<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSameAs"><span class="type-signature"></span>setSameAs<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setServiceEndpoint"><span class="type-signature"></span>setServiceEndpoint<span class="signature">(fctSvcUrl)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sets the Facet service endpoint to use for Facet queries by this FctQuery instance.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fctSvcUrl</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">A Facet service endpoint URL</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSubjectClass"><span class="type-signature"></span>setSubjectClass<span class="signature">(classIri, inferenceContext<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a class filter as a child of the current subject node.
Any existing class filter is overwritten.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>classIri</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The IRI of the class.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>inferenceContext</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last">The name of the inference context to use.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSubjectCondition"><span class="type-signature"></span>setSubjectCondition<span class="signature">(conditionType, value, valueDataType, valueLang)</span><span class="type-signature"></span></h4>
    

    
    <p class="summary">Sets aa condition on the current subject node which may be a query, property or property-of element.</p>
    



<div class="description">
    The condition is specified using a &lt;cond&gt; element of the form:<br>
<pre>
  &lt;cond type="{conditionType}" neg="{negate}" xml:lang="{valueLang}" datatype="{valueDataType}"&gt;
    {value}
  &lt;/cond&gt;
</pre>
After setting the condition, the subject node is reset to 1, the view type set to 'text-d' and
the view offset set to 0.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>conditionType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">eq | neq | gt | gte | lt | lte | range | neg_range | contains | in | not_in | near</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the condition value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>valueDataType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the XML schema datatype of the value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>valueLang</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">the language of the value, expressed as a two-letter (ISO 639-1) language code.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>setSubjectValue</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSubjectProperty"><span class="type-signature"></span>setSubjectProperty<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a property filter as a child of the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSubjectPropertyOf"><span class="type-signature"></span>setSubjectPropertyOf<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Adds a property-of filter as a child of the current subject node.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setSubjectValue"><span class="type-signature"></span>setSubjectValue<span class="signature">(value, conditionType<span class="signature-attributes">opt</span>, valueDataType<span class="signature-attributes">opt</span>, valueLang<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    The condition is specified using a &lt;value&gt; element of the form:
<pre>
  &lt;value type="{conditionType}" neg="{negate}" xml:lang="{valueLang}" datatype="{valueDataType}"&gt;
    {value}
  &lt;/value&gt;
</pre>
 {value} must be enclosed in quotes. (A /fct bug.)

After setting the condition, the subject node is reset to 1 and the view offset set to 0.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">the condition value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>conditionType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    'eq'
                
                </td>
            

            <td class="description last">eq | neq | gt | gte | lt | lte | range | neg_range | contains | in | not_in | near</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>valueDataType</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    ''
                
                </td>
            

            <td class="description last">the XML schema datatype of the value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>valueLang</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    ''
                
                </td>
            

            <td class="description last">the language of the value, expressed as a two-letter (ISO 639-1) language code.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>setSubjectCondition</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setViewLimit"><span class="type-signature"></span>setViewLimit<span class="signature">(limit)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Sets a limit on the number of rows returned by a query.
A limit of 0 indicates no limit.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>limit</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The number of rows to restrict the query result to.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>getViewLimit</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setViewOffset"><span class="type-signature"></span>setViewOffset<span class="signature">(offset)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Skips the given number of matches from the start of the query result.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>offset</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">The number of result set rows to skip.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>getViewOffset</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setViewSubjectIndex"><span class="type-signature"></span>setViewSubjectIndex<span class="signature">(index)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Moves the &lt;view&gt; element in the Facet input XML to change the
current focus in the Facet UI to the implicit subject node
query variable which has the given index.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>index</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last">Index (1 based) of subject node to receive the focus.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setViewType"><span class="type-signature"></span>setViewType<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="toXml"><span class="type-signature"></span>toXml<span class="signature">()</span><span class="type-signature"> &rarr; {string}</span></h4>
    

    



<div class="description">
    Returns the XML which will form the HTTP request body of the Facet query to be executed.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    The XML representing the Facet query described by this FctQuery instance.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">string</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="viewDescription"><span class="type-signature"></span>viewDescription<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-FctQuery.html">FctQuery</a></li></ul><h3>Classes</h3><ul><li><a href="FctError.html">FctError</a></li><li><a href="FctResult.html">FctResult</a></li><li><a href="JXON.html">JXON</a></li><li><a href="module-FctQuery.FctQuery.html">FctQuery</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.4</a> on Thu May 14 2020 13:06:33 GMT+0100 (British Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>